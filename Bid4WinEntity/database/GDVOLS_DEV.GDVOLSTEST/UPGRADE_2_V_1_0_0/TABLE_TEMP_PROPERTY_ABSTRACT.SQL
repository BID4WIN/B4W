-- Création de la table TEMP_PROPERTY_ABSTRACT
CREATE TABLE GDVOLSTEST.TEMP_PROPERTY_ABSTRACT
(
  -- Définition des champs de la table TEMP_PROPERTY_ABSTRACT
  ID          INTEGER            NOT NULL,
  VERSION     INTEGER            NOT NULL,
  CREATE_DATE VARCHAR2(23 BYTE)  NOT NULL,
  UPDATE_DATE VARCHAR2(23 BYTE)  NOT NULL,
  KEY_        VARCHAR2(40 BYTE)  DEFAULT NULL,
  VALUE       VARCHAR2(100 BYTE) DEFAULT NULL,
  ROOT_ID     INTEGER            DEFAULT NULL,
  PROPERTY_ID INTEGER            DEFAULT NULL
)
TABLESPACE GDVOLS_TBL
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;
-- Définition de la clé primaire de la table TEMP_PROPERTY
CREATE UNIQUE INDEX GDVOLSTEST.TEMP_PROPERTY_ABSTRACT_PK ON GDVOLSTEST.TEMP_PROPERTY_ABSTRACT
(ID)
LOGGING
TABLESPACE GDVOLS_TBL
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (INITIAL          64K
            NEXT             64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT)
NOPARALLEL;
ALTER TABLE GDVOLSTEST.TEMP_PROPERTY_ABSTRACT ADD
(
  CONSTRAINT TEMP_PROPERTY_ABSTRACT_PK
  PRIMARY KEY (ID)
  USING INDEX 
  TABLESPACE GDVOLS_TBL
  PCTFREE    10
  INITRANS   2
  MAXTRANS   255
  STORAGE    (INITIAL          64K
              NEXT             64K
              MINEXTENTS       1
              MAXEXTENTS       UNLIMITED
              PCTINCREASE      0)
);
-- Définition de la clé étrangère de la table TEMP_PROPERTY_ABSTRACT vers la table TEMP_PROPERTY_ABSTRACT
ALTER TABLE GDVOLSTEST.TEMP_PROPERTY_ABSTRACT ADD
(
  CONSTRAINT PROPA_2_PROPA_FK 
  FOREIGN KEY (PROPERTY_ID) 
  REFERENCES GDVOLSTEST.TEMP_PROPERTY_ABSTRACT (ID)
);
-- Définition de la clé étrangère de la table TEMP_PROPERTY_ABSTRACT vers la table TEMP_PROPERTY_ROOT_ABSTRACT
ALTER TABLE GDVOLSTEST.TEMP_PROPERTY_ABSTRACT ADD
(
  CONSTRAINT PROPA_2_ROOTA_FK 
  FOREIGN KEY (ROOT_ID) 
  REFERENCES GDVOLSTEST.TEMP_PROPERTY_ROOT_ABSTRACT (ID)
);